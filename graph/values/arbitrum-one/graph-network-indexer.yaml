# This is a values.yaml override file for https://github.com/graphops/launchpad-charts/tree/main/charts/graph-network-indexer

indexerDefaults:
  config:
    graph-node-query-endpoint: "http://graph-node-query:8000"
    graph-node-status-endpoint: "http://graph-node-block-ingestor:8030/graphql"
    postgres-host: "pg-indexer-metadata"
    postgres-database: "indexer"
    ethereum: "http://proxyd-nitro-proxyd.arbitrum-one:8545"
    ethereum-network: "arbitrum-one"
    network-subgraph-endpoint: "https://api.thegraph.com/subgraphs/name/graphprotocol/graph-network-arbitrum"
    network-subgraph-deployment: "QmSWxvd8SaQK6qZKJ7xtfxCCGoRzGnoi2WNzmJYYJW9BXY" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md

indexerAgent:
  # fixes "Network Subgraph is not fresh" error https://github.com/graphprotocol/indexer/pull/799
  # TODO: choosing higher than upstream recommendation because reportedly 60 is still low, potentially tune in the future.
  env:
    INDEXER_AGENT_SUBGRAPH_MAX_BLOCK_DISTANCE: 100
    INDEXER_AGENT_SUBGRAPH_FRESHNESS_SLEEP_MILLISECONDS: 10000

  config:
    collect-receipts-endpoint: "https://gateway-arbitrum.network.thegraph.com/collect-receipts"
    epoch-subgraph-endpoint: "https://api.thegraph.com/subgraphs/name/graphprotocol/arbitrum-epoch-block-oracle" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md

indexerService:
  config:
    client-signer-address: "0xc483960d4D58eabc434Dc88a620AdFd883D6Dd4e" # find at https://github.com/graphprotocol/indexer/blob/main/docs/networks.md
  
  secretEnv:
    INDEXER_SERVICE_MNEMONIC:
      secretName: graph-operator-mnemonic
      key: mnemonic
    INDEXER_SERVICE_POSTGRES_USERNAME:
      secretName: indexer.pg-indexer-metadata.credentials.postgresql.acid.zalan.do
      key: username
    INDEXER_SERVICE_POSTGRES_PASSWORD:
      secretName: indexer.pg-indexer-metadata.credentials.postgresql.acid.zalan.do
      key: password
